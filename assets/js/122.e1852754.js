(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{442:function(v,_,t){"use strict";t.r(_);var e=t(11),d=Object(e.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"第八章-io库"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#第八章-io库"}},[v._v("#")]),v._v(" 第八章 IO库")]),v._v(" "),_("h2",{attrs:{id:"前面章节已经在用的io库设施"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#前面章节已经在用的io库设施"}},[v._v("#")]),v._v(" 前面章节已经在用的IO库设施")]),v._v(" "),_("ul",[_("li",[_("strong",[v._v("istream")]),v._v("：输入流类型，提供输入操作。")]),v._v(" "),_("li",[_("strong",[v._v("ostream")]),v._v("：输出流类型，提供输出操作")]),v._v(" "),_("li",[_("strong",[v._v("cin")]),v._v("：一个"),_("code",[v._v("istream")]),v._v("对象，从标准输入读取数据。")]),v._v(" "),_("li",[_("strong",[v._v("cout")]),v._v("：一个"),_("code",[v._v("ostream")]),v._v("对象，向标准输出写入数据。")]),v._v(" "),_("li",[_("strong",[v._v("cerr")]),v._v("：一个"),_("code",[v._v("ostream")]),v._v("对象，向标准错误写入消息。")]),v._v(" "),_("li",[_("strong",[v._v(">>运算符")]),v._v("：用来从一个"),_("code",[v._v("istream")]),v._v("对象中读取输入数据。")]),v._v(" "),_("li",[_("strong",[v._v("<<运算符")]),v._v("：用来向一个"),_("code",[v._v("ostream")]),v._v("对象中写入输出数据。")]),v._v(" "),_("li",[_("strong",[v._v("getline函数")]),v._v("：从一个给定的"),_("code",[v._v("istream")]),v._v("对象中读取一行数据，存入到一个给定的"),_("code",[v._v("string")]),v._v("对象中。")])]),v._v(" "),_("h2",{attrs:{id:"io类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#io类"}},[v._v("#")]),v._v(" IO类")]),v._v(" "),_("h3",{attrs:{id:"标准库定义的io类型"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#标准库定义的io类型"}},[v._v("#")]),v._v(" 标准库定义的IO类型")]),v._v(" "),_("ul",[_("li",[_("code",[v._v("iostream")]),v._v("头文件：从标准流中读写数据，"),_("code",[v._v("istream")]),v._v("、"),_("code",[v._v("ostream")]),v._v("等。")]),v._v(" "),_("li",[_("code",[v._v("fstream")]),v._v("头文件：从文件中读写数据，"),_("code",[v._v("ifstream")]),v._v("、"),_("code",[v._v("ofstream")]),v._v("等。")]),v._v(" "),_("li",[_("code",[v._v("sstream")]),v._v("头文件：从字符串中读写数据，"),_("code",[v._v("istringstream")]),v._v("、"),_("code",[v._v("ostringstream")])])]),v._v(" "),_("h3",{attrs:{id:"io对象不可复制或赋值"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#io对象不可复制或赋值"}},[v._v("#")]),v._v(" IO对象不可复制或赋值")]),v._v(" "),_("ul",[_("li",[v._v("1.IO对象不能存在容器里.")]),v._v(" "),_("li",[v._v("2.形参和返回类型也不能是流类型。")]),v._v(" "),_("li",[v._v("3.形参和返回类型一般是流的"),_("strong",[v._v("引用")]),v._v("。")]),v._v(" "),_("li",[v._v("4.读写一个IO对象会改变其状态，因此传递和返回的引用不能是"),_("code",[v._v("const")]),v._v("的。")])]),v._v(" "),_("h3",{attrs:{id:"条件状态"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#条件状态"}},[v._v("#")]),v._v(" 条件状态")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("状态")]),v._v(" "),_("th",[v._v("解释")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[_("code",[v._v("strm:iostate")])]),v._v(" "),_("td",[v._v("是一种机器无关的"),_("strong",[v._v("类型")]),v._v("，提供了表达条件状态的完整功能")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("strm:badbit")])]),v._v(" "),_("td",[v._v("用来指出流已经崩溃")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("strm:failbit")])]),v._v(" "),_("td",[v._v("用来指出一个IO操作失败了")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("strm:eofbit")])]),v._v(" "),_("td",[v._v("用来指出流到达了文件结束")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("strm:goodbit")])]),v._v(" "),_("td",[v._v("用来指出流未处于错误状态，此值保证为零")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.eof()")])]),v._v(" "),_("td",[v._v("若流"),_("code",[v._v("s")]),v._v("的"),_("code",[v._v("eofbit")]),v._v("置位，则返回"),_("code",[v._v("true")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.fail()")])]),v._v(" "),_("td",[v._v("若流"),_("code",[v._v("s")]),v._v("的"),_("code",[v._v("failbit")]),v._v("置位，则返回"),_("code",[v._v("true")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.bad()")])]),v._v(" "),_("td",[v._v("若流"),_("code",[v._v("s")]),v._v("的"),_("code",[v._v("badbit")]),v._v("置位，则返回"),_("code",[v._v("true")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.good()")])]),v._v(" "),_("td",[v._v("若流"),_("code",[v._v("s")]),v._v("处于有效状态，则返回"),_("code",[v._v("true")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.clear()")])]),v._v(" "),_("td",[v._v("将流"),_("code",[v._v("s")]),v._v("中所有条件状态位复位，将流的状态设置成有效，返回"),_("code",[v._v("void")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.clear(flags)")])]),v._v(" "),_("td",[v._v("将流"),_("code",[v._v("s")]),v._v("中指定的条件状态位复位，返回"),_("code",[v._v("void")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.setstate(flags)")])]),v._v(" "),_("td",[v._v("根据给定的标志位，将流"),_("code",[v._v("s")]),v._v("中对应的条件状态位置位，返回"),_("code",[v._v("void")])])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("s.rdstate()")])]),v._v(" "),_("td",[v._v("返回流"),_("code",[v._v("s")]),v._v("的当前条件状态，返回值类型为"),_("code",[v._v("strm::iostate")])])])])]),v._v(" "),_("p",[v._v("上表中，"),_("code",[v._v("strm")]),v._v("是一种IO类型，（如"),_("code",[v._v("istream")]),v._v("）， "),_("code",[v._v("s")]),v._v("是一个流对象。")]),v._v(" "),_("h3",{attrs:{id:"管理输出缓冲"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#管理输出缓冲"}},[v._v("#")]),v._v(" 管理输出缓冲")]),v._v(" "),_("ul",[_("li",[v._v("每个输出流都管理一个缓冲区，执行输出的代码，文本串可能立即打印出来，也可能被操作系统保存在缓冲区内，随后再打印。")]),v._v(" "),_("li",[v._v("刷新缓冲区，可以使用如下IO操纵符：\n"),_("ul",[_("li",[_("code",[v._v("endl")]),v._v("：输出一个换行符并刷新缓冲区。")]),v._v(" "),_("li",[_("code",[v._v("flush")]),v._v("：刷新流，单不添加任何字符。")]),v._v(" "),_("li",[_("code",[v._v("ends")]),v._v("：在缓冲区插入空字符"),_("code",[v._v("null")]),v._v("，然后刷新。")]),v._v(" "),_("li",[_("code",[v._v("unitbuf")]),v._v("：告诉流接下来每次操作之后都要进行一次"),_("code",[v._v("flush")]),v._v("操作。")]),v._v(" "),_("li",[_("code",[v._v("nounitbuf")]),v._v("：回到正常的缓冲方式。")])])])]),v._v(" "),_("h2",{attrs:{id:"文件输入输出"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#文件输入输出"}},[v._v("#")]),v._v(" 文件输入输出")]),v._v(" "),_("ul",[_("li",[v._v("头文件"),_("code",[v._v("fstream")]),v._v("定义了三个类型来支持文件IO：\n"),_("ul",[_("li",[_("code",[v._v("ifstream")]),v._v("从一个给定文件读取数据。")]),v._v(" "),_("li",[_("code",[v._v("ofstream")]),v._v("向一个给定文件写入数据。")]),v._v(" "),_("li",[_("code",[v._v("fstream")]),v._v("可以读写给定文件。")])])]),v._v(" "),_("li",[_("strong",[v._v("文件流")]),v._v("：需要读写文件时，必须定义自己的文件流对象，并绑定在需要的文件上。")])]),v._v(" "),_("h3",{attrs:{id:"fstream特有的操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#fstream特有的操作"}},[v._v("#")]),v._v(" fstream特有的操作")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("操作")]),v._v(" "),_("th",[v._v("解释")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[_("code",[v._v("fstream fstrm;")])]),v._v(" "),_("td",[v._v("创建一个未绑定的文件流。")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("fstream fstrm(s);")])]),v._v(" "),_("td",[v._v("创建一个文件流，并打开名为"),_("code",[v._v("s")]),v._v("的文件，"),_("code",[v._v("s")]),v._v("可以是"),_("code",[v._v("string")]),v._v("也可以是"),_("code",[v._v("char")]),v._v("指针")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("fstream fstrm(s, mode);")])]),v._v(" "),_("td",[v._v("与前一个构造函数类似，但按指定"),_("code",[v._v("mode")]),v._v("打开文件")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("fstrm.open(s)")])]),v._v(" "),_("td",[v._v("打开名为"),_("code",[v._v("s")]),v._v("的文件，并和"),_("code",[v._v("fstrm")]),v._v("绑定")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("fstrm.close()")])]),v._v(" "),_("td",[v._v("关闭和"),_("code",[v._v("fstrm")]),v._v("绑定的文件")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("fstrm.is_open()")])]),v._v(" "),_("td",[v._v("返回一个"),_("code",[v._v("bool")]),v._v("值，指出与"),_("code",[v._v("fstrm")]),v._v("关联的文件是否成功打开且尚未关闭")])])])]),v._v(" "),_("p",[v._v("上表中，"),_("code",[v._v("fstream")]),v._v("是头文件"),_("code",[v._v("fstream")]),v._v("中定义的一个类型，"),_("code",[v._v("fstrm")]),v._v("是一个文件流对象。")]),v._v(" "),_("h3",{attrs:{id:"文件模式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#文件模式"}},[v._v("#")]),v._v(" 文件模式")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("文件模式")]),v._v(" "),_("th",[v._v("解释")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[_("code",[v._v("in")])]),v._v(" "),_("td",[v._v("以读的方式打开")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("out")])]),v._v(" "),_("td",[v._v("以写的方式打开")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("app")])]),v._v(" "),_("td",[v._v("每次写操作前均定位到文件末尾")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("ate")])]),v._v(" "),_("td",[v._v("打开文件后立即定位到文件末尾")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("trunc")])]),v._v(" "),_("td",[v._v("截断文件")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("binary")])]),v._v(" "),_("td",[v._v("以二进制方式进行IO操作。")])])])]),v._v(" "),_("h2",{attrs:{id:"string流"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#string流"}},[v._v("#")]),v._v(" string流")]),v._v(" "),_("ul",[_("li",[v._v("头文件"),_("code",[v._v("sstream")]),v._v("定义了三个类型来支持内存IO：\n"),_("ul",[_("li",[_("code",[v._v("istringstream")]),v._v("从"),_("code",[v._v("string")]),v._v("读取数据。")]),v._v(" "),_("li",[_("code",[v._v("ostringstream")]),v._v("向"),_("code",[v._v("string")]),v._v("写入数据。")]),v._v(" "),_("li",[_("code",[v._v("stringstream")]),v._v("可以读写给定"),_("code",[v._v("string")]),v._v("。")])])])]),v._v(" "),_("h3",{attrs:{id:"stringstream特有的操作"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#stringstream特有的操作"}},[v._v("#")]),v._v(" stringstream特有的操作")]),v._v(" "),_("table",[_("thead",[_("tr",[_("th",[v._v("操作")]),v._v(" "),_("th",[v._v("解释")])])]),v._v(" "),_("tbody",[_("tr",[_("td",[_("code",[v._v("sstream strm")])]),v._v(" "),_("td",[v._v("定义一个未绑定的"),_("code",[v._v("stringstream")]),v._v("对象")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("sstream strm(s)")])]),v._v(" "),_("td",[v._v("用"),_("code",[v._v("s")]),v._v("初始化对象")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("strm.str()")])]),v._v(" "),_("td",[v._v("返回"),_("code",[v._v("strm")]),v._v("所保存的"),_("code",[v._v("string")]),v._v("的拷贝")])]),v._v(" "),_("tr",[_("td",[_("code",[v._v("strm.str(s)")])]),v._v(" "),_("td",[v._v("将"),_("code",[v._v("s")]),v._v("拷贝到"),_("code",[v._v("strm")]),v._v("中，返回"),_("code",[v._v("void")])])])])]),v._v(" "),_("p",[v._v("上表中"),_("code",[v._v("sstream")]),v._v("是头文件"),_("code",[v._v("sstream")]),v._v("中任意一个类型。"),_("code",[v._v("s")]),v._v("是一个"),_("code",[v._v("string")]),v._v("。")])])}),[],!1,null,null,null);_.default=d.exports}}]);